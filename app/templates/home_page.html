{% extends "base.html" %} {% block content %}

<ul class="list-group list-group-flush" id="contractor-list">
  <li class="list-group-item">
    <div
      class="d-flex justify-content-between align-items-center my-2"
      id="contractor-header"
    >
      <h3 class="mb-0">Contractors</h3>
      <a
        role="button"
        class="btn btn-outline-success btn-sm"
        href="{{ url_for('contractor')}}"
        >Add Contractor</a
      >
    </div>
  </li>
  {% for contractor in contractors_list %}
  <li class="list-group-item">
    <div class="d-flex justify-content-between">
      {{contractor.name}}
      <div class="d-flex flex-column align-items-end">
        <small class="mb-1">salary: {{contractor.salary}}/month</small>
        <div class="d-flex">
          <form action="#" method="POST">
            <button type="button" class="btn text-success" id="icon_button">
              <i class="bi bi-pencil-square"></i>
            </button>
          </form>
          <form
            action="{{url_for('delete_contractor',contractor_id=contractor.id)}}"
            method="post"
          >
            <button
              type="button"
              class="btn text-danger"
              id="icon_button"
              data-bs-toggle="modal"
              data-bs-target="#{{contractor.id}}"
            >
              <i class="bi bi-trash3-fill"></i>
            </button>
            <div class="modal fade" id="{{contractor.id}}">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-body">
                    Are you sure want to delete {{contractor.name}}
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-sm btn-success"
                      data-bs-dismiss="modal"
                    >
                      No
                    </button>
                    <button type="submit" class="btn btn-sm btn-danger">
                      Yes
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </li>
  {% endfor %}
</ul>
{% endblock %}
